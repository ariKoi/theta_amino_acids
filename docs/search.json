[
  {
    "objectID": "modeling_110624.html",
    "href": "modeling_110624.html",
    "title": "Modeling - Exploratory Data Analysis - Amino Acid Reference Intervals",
    "section": "",
    "text": "Data source: Ref ranges - AAU file\nSee the file data_desc_040624 for the data processing steps that led to the above data and for a more detailed data description i.e. missing values per variable, typical values per variable etc.",
    "crumbs": [
      "Data Batch 1",
      "Modeling"
    ]
  },
  {
    "objectID": "modeling_110624.html#model---1st-pass",
    "href": "modeling_110624.html#model---1st-pass",
    "title": "Modeling - Exploratory Data Analysis - Amino Acid Reference Intervals",
    "section": "Model - 1st Pass",
    "text": "Model - 1st Pass\nTo begin with, a test for non-linear relationships between each covariate and the amino acid concentration is executed below. This helps in deciding whether to model an association in a non-linear fashion i.e. with a polynomial term or a spline term or an interaction, or to just consider the covariates separately and without any special transformation.\n\n\n\n\n\n\n\n\nFigure 1: Spearman’s test for assessing non-linear relationships with the response. The further away from 0 the adjusted \\(\\rho^2\\) score is, the higher the degree of non-linearity for that covariate.\n\n\n\n\n\nNon-linearity is evident in covariates sex, aerobics_activity, age (smaller \\(\\rho^2\\)) and chronic_disease_v3 (smaller \\(\\rho^2\\) with opposite sign).\nFrom the data processing and description file implemented previously, aerobics_activity does not have many distinct values, has a low Info metric i.e. it does not meet criteria for a continuous variable. In addition due to the many zeroes it’s distribution is split in half (this hints to a subgroup analysis that will be executed later). As such using a polynomial term or a spline function in order to model its non-linear association with the amino acid concentration would not be appropriate. Age does not have continuity issues, however its adjusted \\(\\rho^2\\) value as seen in the above Spearman \\(\\rho^2\\) plots is not high enough to justify a spline approach. Hence to capture non-linearities only interactions amongst these 4 variables will be considered in the model. Specifically, the model formula will contain the following terms or associations:\nlog(Glycine) ~ sex + age + sex:age + bmi + chronic_disease_v3 + age:chronic_disease_v3 + supplements_flag + log(aerobics_activity+1) + log(resistance_activity+1) + age:log(aerobics_activity+1) + chronic_disease_v3:log(aerobics_activity+1)\nWhere the : symbol denotes the interaction between two variables. Once the model is built and the coefficients are estimated, the model formula can be seen below.\n\n\n[1] 7.202 - 1.074*(sex==Male) - 0.0157*age + 0.01201*bmi + 0.4433*(chronic_disease_v3==Thyroidism) - 0.242*(chronic_disease_v3==Other) - 1.235*(chronic_disease_v3==Blood) + 0.6188*(chronic_disease_v3==Heart) - 0.3686*(chronic_disease_v3==Stomach) - 0.6052*(chronic_disease_v3==Depression) - 7.866*(chronic_disease_v3==Pain) - 0.09208*(supplements_flag==Yes) - 0.003676*aerobics_activity + 0.0001581*resistance_activity + 0.01205*(sex==Male)*age + age*( - 0.00453*(chronic_disease_v3==Thyroidism) + 0.007319*(chronic_disease_v3==Other) + 0.02469*(chronic_disease_v3==Blood) - 0.009486*(chronic_disease_v3==Heart) + 0.01231*(chronic_disease_v3==Stomach) + 0.01946*(chronic_disease_v3==Depression) + 0.2042*(chronic_disease_v3==Pain)) - 0.0006687*age*aerobics_activity + aerobics_activity*( - 0.1042*(chronic_disease_v3==Thyroidism) + 0.04341*(chronic_disease_v3==Other) + 0.07868*(chronic_disease_v3==Blood) - 0.08097*(chronic_disease_v3==Heart) - 0.1181*(chronic_disease_v3==Stomach) - 0.08079*(chronic_disease_v3==Depression) - 0.5355*(chronic_disease_v3==Pain))\n\n\nThe model’s reference values can be seen below in the row named Adjust to.\n\n\n                   sex age  bmi chronic_disease_flag chronic_disease_v3 meds_flag supplements_flag aerobics_activity resistance_activity     Glycine\nLow:effect        &lt;NA&gt;  34 22.8                 &lt;NA&gt;               &lt;NA&gt;      &lt;NA&gt;             &lt;NA&gt;                 0                   0   438.89752\nAdjust to       Female  43 25.3                   No               None        No               No                 0                   0   700.60805\nHigh:effect       &lt;NA&gt;  53 29.2                 &lt;NA&gt;               &lt;NA&gt;      &lt;NA&gt;             &lt;NA&gt;                60                 540  1109.71268\nLow:prediction  Female  11 16.6                   No               None        No               No                 0                   0    84.40105\nHigh:prediction   Male  80 46.2                  Yes               Pain       Yes              Yes               720                 540 12859.68792\nLow             Female  11 16.6                   No               None        No               No                 0                   0    84.40105\nHigh              Male  80 46.2                  Yes               Pain       Yes              Yes               720                 540 12859.68792\n\nValues:\n\nsex : Female Male \nchronic_disease_flag : No Yes \nchronic_disease_v3 : None Thyroidism Other Blood Heart Stomach Depression Pain \nmeds_flag : No Yes \nsupplements_flag : No Yes \n\n\nSince this is a 1st pass for the model, with a view to detect outliers, more details and characteristics of the model are shown below when the 2nd pass is undertaken.",
    "crumbs": [
      "Data Batch 1",
      "Modeling"
    ]
  },
  {
    "objectID": "modeling_110624.html#outlier-analysis-based-on-model-residuals",
    "href": "modeling_110624.html#outlier-analysis-based-on-model-residuals",
    "title": "Modeling - Exploratory Data Analysis - Amino Acid Reference Intervals",
    "section": "Outlier analysis based on model residuals",
    "text": "Outlier analysis based on model residuals\nWhen assessing the residuals from the model fit using a normal probability plot, we see the presence of large residuals i.e. difference of the observed and predicted values. These residuals correspond to model predictions that produced larger errors than the bulk of the data. They are indicative of cases that can’t be explained well by the model (i.e. missing covariate information, prediction extrapolation from unseen by the model covariate values etc), and as such can be cast as outliers. This is also appropriate in terms of developing a model that will be used for reference interval construction i.e. cases foreign to the model should fall outside the reference interval and flagged both as inconclusive and for further inspection.\n\n\n------------------------------------------------------------------------------------------------------------------------------------------------------------------ \nResidual Distribution - Glycine Model\n\n  length      n       NAs  unique    0s  mean  meanCI'\n     308    217        91     = n     0  0.00   -0.09\n          70.5%     29.5%          0.0%          0.09\n                                                     \n     .05    .10       .25  median   .75   .90     .95\n   -1.10  -0.85     -0.44    0.00  0.34  0.84    1.20\n                                                     \n   range     sd     vcoef     mad   IQR  skew    kurt\n    4.12   0.70  8.53e+15    0.56  0.77  0.51    1.23\n                                                     \nlowest : -1.77, -1.66, -1.50, -1.48, -1.44\nhighest: 1.77, 1.99, 2.24, 2.34, 2.35\n\n' 95%-CI (classic)\n\n\n\n\n\n\n\n\nFigure 2: Figure combining a histogram with a density plot, a boxplot and the plot of the empirical distribution function (ECDF). The scale for the x-axis is synchronized over all plots. The median can be found on the boxplot as also in the ecdf-plot. The maximum and the minimum value are tagged with a tiny vertical dash upon the ecdf-line. The mean is shown in the boxplot as grey cross, the grey bar is its confidence interval.\n\n\n\n\n\nIn comparison to the previous outlier analysis as seen here, the difference now is that the analysis is conducted on the model residuals, hence on values that are conditional on meta data (predictor variables) whereas previously the analysis was marginally or unconditionally executed with the only assumption being that of the amino acid concentration following a log-normal distribution.\nFigure 3 shows a quantile-quantile plot where the quantiles of the model’s residual values are matched to the ones predicted from a normal distribution. The diagonal line indicates perfect fit. Data points marked in red denote outliers (also indicated in the table below each plot with their corresponding subject IDs).\nFor the rest of the figures below (i.e. for other amino acids), the same outlier detection procedure is applied but with a different parameterization which controls the outlier detection thresholds (i.e. horizontal lines in plot).\n\n\n\n\n\n\n\n\nFigure 3: Normal probabibilty plot comparing quantiles of model residuals and the theoretical normal distribution. Vertical dashed lines indicate the central 95% limits of the normal distribution. Horizontal dashed lines indicate outlier detection thresholds i.e. data outside of these thresholds are deemed outliers.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOutliers\n\n\nSubject id1\nGlycine2\n\n\n\n\n39769\n1.71\n\n\n39834\n1.99\n\n\nKOYTSOY\n1.56\n\n\n39921\n2.34\n\n\n39689\n1.77\n\n\n39454\n1.66\n\n\n39432\n2.24\n\n\n39452\n2.35\n\n\n\n1 Red coloured data points in above QQ plot\n\n\n2 μmol/g (model residual)",
    "crumbs": [
      "Data Batch 1",
      "Modeling"
    ]
  },
  {
    "objectID": "modeling_110624.html#model---2nd-pass",
    "href": "modeling_110624.html#model---2nd-pass",
    "title": "Modeling - Exploratory Data Analysis - Amino Acid Reference Intervals",
    "section": "Model - 2nd Pass",
    "text": "Model - 2nd Pass\nHere the model is refitted to the data excluding the outlier values detected in the previous step.\nModel formula:\n\n\n[1] 7.076 - 1.153*(sex==Male) - 0.01157*age + 0.002986*bmi + 0.1132*(chronic_disease_v3==Thyroidism) + 0.0435*(chronic_disease_v3==Other) - 0.4287*(chronic_disease_v3==Blood) + 0.6272*(chronic_disease_v3==Heart) + 0.09502*(chronic_disease_v3==Stomach) - 0.3794*(chronic_disease_v3==Depression) - 8.162*(chronic_disease_v3==Pain) - 0.0591*(supplements_flag==Yes) + 0.06704*aerobics_activity + 0.01453*resistance_activity + 0.01358*(sex==Male)*age + age*(0.003604*(chronic_disease_v3==Thyroidism) + 0.004287*(chronic_disease_v3==Other) + 0.01304*(chronic_disease_v3==Blood) - 0.007724*(chronic_disease_v3==Heart) + 0.005611*(chronic_disease_v3==Stomach) + 0.01955*(chronic_disease_v3==Depression) + 0.2159*(chronic_disease_v3==Pain)) - 0.001689*age*aerobics_activity + aerobics_activity*( - 0.1078*(chronic_disease_v3==Thyroidism) + 0.008825*(chronic_disease_v3==Other) + 0.01427*(chronic_disease_v3==Blood) - 0.09928*(chronic_disease_v3==Heart) - 0.154*(chronic_disease_v3==Stomach) - 0.1192*(chronic_disease_v3==Depression) - 0.6338*(chronic_disease_v3==Pain))\n\n\nThe model’s reference values can be seen below in the row named Adjust to:\n\n\n                   id    sex age   bmi chronic_disease_flag chronic_disease_v3 meds_flag supplements_flag aerobics_activity resistance_activity    Glycine\nLow:effect       &lt;NA&gt;   &lt;NA&gt;  34 22.75                 &lt;NA&gt;               &lt;NA&gt;      &lt;NA&gt;             &lt;NA&gt;                 0                   0  432.94967\nAdjust to       24486 Female  43 25.30                   No               None        No               No                 0                   0  685.57339\nHigh:effect      &lt;NA&gt;   &lt;NA&gt;  53 29.00                 &lt;NA&gt;               &lt;NA&gt;      &lt;NA&gt;             &lt;NA&gt;                60                 540 1068.24863\nLow:prediction   1018 Female  11 16.60                   No               None        No               No                 0                   0   84.40105\nHigh:prediction NAKOS   Male  80 46.20                  Yes               Pain       Yes              Yes               720                 540 6945.17194\nLow              1018 Female  11 16.60                   No               None        No               No                 0                   0   84.40105\nHigh            NAKOS   Male  80 46.20                  Yes               Pain       Yes              Yes               720                 540 6945.17194\n\nValues:\n\nid : 1018 10985 1210 1219 1326 1338 1378 162 1623 1960 2024_1 2024_10 2024_11 2024_12 2024_2 2024_3 2024_4 2024_5 2024_6 2024_7 + 288 others \nsex : Female Male \nchronic_disease_flag : No Yes \nchronic_disease_v3 : None Thyroidism Other Blood Heart Stomach Depression Pain \nmeds_flag : No Yes \nsupplements_flag : No Yes \n\n\n\nResiduals\n\n\n\n\n\n\n\n\nFigure 4: Normal probabibilty plot comparing quantiles of model residuals and the theoretical normal distribution. Vertical dashed lines indicate the central 95% limits of the normal distribution. Horizontal dashed lines indicate outlier detection thresholds i.e. data outside of these thresholds are deemed outliers.\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 5: Plot of predictions vs model residuals. No obvious patterns can be seen.\n\n\n\n\n\n\n\nVariable Importance\n\n\n\n\n\n\n\n\nFigure 6: Proportion of overall model \\(R^2\\) that is due to each predictor.\n\n\n\n\n\n\n\nVariable Effects\n\n\n\n\nEffects   Response: log(Glycine)\n\n\n\n\n\n\nLow\n\n\nHigh\n\n\nΔ\n\n\nEffect\n\n\nS.E.\n\n\nLower 0.95\n\n\nUpper 0.95\n\n\n\n\n\n\nage\n\n\n34.00\n\n\n53\n\n\n19.00\n\n\n-0.21970\n\n\n0.15080\n\n\n-0.51730\n\n\n0.07784\n\n\n\n\nbmi\n\n\n22.75\n\n\n29\n\n\n6.25\n\n\n0.01866\n\n\n0.06005\n\n\n-0.09983\n\n\n0.13720\n\n\n\n\naerobics_activity\n\n\n0.00\n\n\n60\n\n\n60.00\n\n\n-0.02294\n\n\n0.11190\n\n\n-0.24370\n\n\n0.19790\n\n\n\n\nresistance_activity\n\n\n0.00\n\n\n540\n\n\n540.00\n\n\n0.09145\n\n\n0.14610\n\n\n-0.19690\n\n\n0.37980\n\n\n\n\nsex — Male:Female\n\n\n1.00\n\n\n2\n\n\n\n\n-0.56930\n\n\n0.09645\n\n\n-0.75960\n\n\n-0.37900\n\n\n\n\nchronic_disease_v3 — Thyroidism:None\n\n\n1.00\n\n\n2\n\n\n\n\n0.26820\n\n\n0.18750\n\n\n-0.10190\n\n\n0.63820\n\n\n\n\nchronic_disease_v3 — Other:None\n\n\n1.00\n\n\n3\n\n\n\n\n0.22780\n\n\n0.18690\n\n\n-0.14090\n\n\n0.59660\n\n\n\n\nchronic_disease_v3 — Blood:None\n\n\n1.00\n\n\n4\n\n\n\n\n0.13210\n\n\n0.37310\n\n\n-0.60420\n\n\n0.86830\n\n\n\n\nchronic_disease_v3 — Heart:None\n\n\n1.00\n\n\n5\n\n\n\n\n0.29510\n\n\n0.41640\n\n\n-0.52650\n\n\n1.11700\n\n\n\n\nchronic_disease_v3 — Stomach:None\n\n\n1.00\n\n\n6\n\n\n\n\n0.33630\n\n\n0.30880\n\n\n-0.27310\n\n\n0.94570\n\n\n\n\nchronic_disease_v3 — Depression:None\n\n\n1.00\n\n\n7\n\n\n\n\n0.46140\n\n\n0.37620\n\n\n-0.28100\n\n\n1.20400\n\n\n\n\nchronic_disease_v3 — Pain:None\n\n\n1.00\n\n\n8\n\n\n\n\n1.12100\n\n\n0.67810\n\n\n-0.21700\n\n\n2.45900\n\n\n\n\nsupplements_flag — Yes:No\n\n\n1.00\n\n\n2\n\n\n\n\n-0.05910\n\n\n0.10370\n\n\n-0.26380\n\n\n0.14560\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 7: The further away the central estimate and its corresponding intervals from unity the higher the variable’s effect. Confidence intervals are 90%, 95% and 99%, with the dark blue denoting the 90% confidence interval.\n\n\n\n\n\n\n\nPartial Dependence Plots\n\n\n\n\n\n\n\n\nFigure 8\n\n\n\n\n\n\n\n\n\n\n\nFigure 9\n\n\n\n\n\n\n\n\n\n\n\nFigure 10\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 11\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 12\n\n\n\n\n\n\n\n\n\n\n\nFigure 13\n\n\n\n\n\n\n\n\n\n\n\nFigure 14\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 15\n\n\n\n\n\n\n\n\n\n\n\nFigure 16\n\n\n\n\n\n\n\n\n\n\n\nFigure 17\n\n\n\n\n\n\n\n\n\n\n\nFigure 18",
    "crumbs": [
      "Data Batch 1",
      "Modeling"
    ]
  },
  {
    "objectID": "modeling_110624.html#additional-data-collection-sample-size-suggestions",
    "href": "modeling_110624.html#additional-data-collection-sample-size-suggestions",
    "title": "Modeling - Exploratory Data Analysis - Amino Acid Reference Intervals",
    "section": "Additional Data Collection & Sample Size Suggestions",
    "text": "Additional Data Collection & Sample Size Suggestions\nThe data contains responses from 300 individuals, however the model uses 209 complete cases i.e. the rest contain missing values at various covariates and are thus excluded from modeling (at the moment no imputation technique is used as it is not thought that covariates can predict each other well). The 2nd pass model is built upon most of the covariates and data, and utilizes 29 degrees of freedom. As is mentioned below for the 3rd pass model development, these many degrees of freedom are too many for the current sample size, and as a result the 2nd pass model overfits the data. In order to use and obtain a trustworthy result for the 2nd pass model, the sample size should be about 435 individuals. Given that new data will also contain responses with missing values, the suggestion would be to collect in total about 550 responses or an additional 250 responses.",
    "crumbs": [
      "Data Batch 1",
      "Modeling"
    ]
  },
  {
    "objectID": "modeling_110624.html#model---3rd-pass",
    "href": "modeling_110624.html#model---3rd-pass",
    "title": "Modeling - Exploratory Data Analysis - Amino Acid Reference Intervals",
    "section": "Model - 3rd Pass",
    "text": "Model - 3rd Pass\nThe 2nd pass model uses too many degrees of freedom in relation to the size of the data. This can be see by conducting a validation and calibration analysis. Below are results from the validation analysis using bootstrapping as the resampling technique. The algorithm can be described as follows source:\n\nEstimate model performance in the original sample of size n\nDraw a bootstrap sample of the same size n and fit the model to the bootstrap sample\nApply the model obtained in the bootstrap sample to the original sample\nSubtract the accuracy measure found in the bootstrap sample from the accuracy measure in the original sample - this is the estimate of optimism (i.e. overfitting)\nRepeat the process many times (e.g. 300) and average over the repeats to obtain a final estimate of optimism for each measure\nSubtract that value from the observed/apparent accuracy measure to get the optimism corrected estimate\n\n\n\n\n\n2nd pass model validation\n\n\n\n\nIndex\n\n\nOriginalSample\n\n\nTrainingSample\n\n\nTestSample\n\n\nOptimism\n\n\nCorrectedIndex\n\n\n\\(n\\)\n\n\n\n\n\n\nR-square\n\n\n0.27\n\n\n0.36\n\n\n0.13\n\n\n0.22\n\n\n0.05\n\n\n78\n\n\n\n\nMSE\n\n\n0.33\n\n\n0.3\n\n\n0.4\n\n\n-0.1\n\n\n0.44\n\n\n78\n\n\n\n\n\\(g\\)\n\n\n0.41\n\n\n0.46\n\n\n0.33\n\n\n0.13\n\n\n0.28\n\n\n78\n\n\n\n\nIntercept\n\n\n0\n\n\n0\n\n\n1.99\n\n\n-1.99\n\n\n1.99\n\n\n78\n\n\n\n\nSlope\n\n\n1\n\n\n1\n\n\n0.69\n\n\n0.31\n\n\n0.69\n\n\n78\n\n\n\n\n\nFrom this table it can be seen that the optimism statistic which indicates the extent of model overfitting, for a variety of performance metrics has values that are large. Thus overfitting is present in the model.\nBy calibrating the predicted values from the model to the observed ones, we also notice a good amount of deviation from the diagonal line after correcting for this overfitting or bias.\n\n\n\nn=209   Mean absolute error=0.054   Mean squared error=0.00438\n0.9 Quantile of absolute error=0.109\n\n\n\n\n\n\n\n\nFigure 19: Calibration plot for 2nd pass model. Deviation from the diagonal line after correcting for overfitting or bias.\n\n\n\n\n\nThe 2nd pass model also includes the chronic_disease_v3 variable which contains categories with low frequencies in the data. As a result the effect size estimate is accompanied by a very large confidence interval. This renders the estimate as non-trustworthy.\nFrom these results and also the variable importance plot seen previously as well as the analysis of variance results, it looks like the variables, sex, age and aerobics_activity can be kept in a new model with less degree of freedom spending i.e. less overfitting the data.\nHence the model is refitted to the data with these three covariates and interactions between sex & age and between age & aerobics_activity.\nThe model formula is:\n\n\n[1] 7.03 - 1.112*(sex==Male) - 0.005608*age + 0.094*aerobics_activity + 0.01383*(sex==Male)*age - 0.002978*age*aerobics_activity\n\n\nThe model’s reference values can be seen below in the row named Adjust to:\n\n\n                   id    sex age   bmi chronic_disease_flag chronic_disease_v3 meds_flag supplements_flag aerobics_activity resistance_activity    Glycine\nLow:effect       &lt;NA&gt;   &lt;NA&gt;  34 22.75                 &lt;NA&gt;               &lt;NA&gt;      &lt;NA&gt;             &lt;NA&gt;                 0                   0  432.94967\nAdjust to       24486 Female  43 25.30                   No               None        No               No                 0                   0  685.57339\nHigh:effect      &lt;NA&gt;   &lt;NA&gt;  53 29.00                 &lt;NA&gt;               &lt;NA&gt;      &lt;NA&gt;             &lt;NA&gt;                60                 540 1068.24863\nLow:prediction   1018 Female  11 16.60                   No               None        No               No                 0                   0   84.40105\nHigh:prediction NAKOS   Male  80 46.20                  Yes               Pain       Yes              Yes               720                 540 6945.17194\nLow              1018 Female  11 16.60                   No               None        No               No                 0                   0   84.40105\nHigh            NAKOS   Male  80 46.20                  Yes               Pain       Yes              Yes               720                 540 6945.17194\n\nValues:\n\nid : 1018 10985 1210 1219 1326 1338 1378 162 1623 1960 2024_1 2024_10 2024_11 2024_12 2024_2 2024_3 2024_4 2024_5 2024_6 2024_7 + 288 others \nsex : Female Male \nchronic_disease_flag : No Yes \nchronic_disease_v3 : None Thyroidism Other Blood Heart Stomach Depression Pain \nmeds_flag : No Yes \nsupplements_flag : No Yes \n\n\n\nResiduals\n\n\n\n\n\n\n\n\nFigure 20: Normal probabibilty plot comparing quantiles of model residuals and the theoretical normal distribution. Vertical dashed lines indicate the central 95% limits of the normal distribution. Horizontal dashed lines indicate outlier detection thresholds i.e. data outside of these thresholds are deemed outliers. Here the algorithm reports outliers due to its parameterization, however these are weak outliers since their deviation from the straight line is not large.\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 21: Plot of predictions vs model residuals. No obvious patterns can be seen.\n\n\n\n\n\n\n\nVariable Importance\n\n\n\n\n\n\n\n\nFigure 22: Proportion of overall model \\(R^2\\) that is due to each predictor.\n\n\n\n\n\n\n\nVariable Effects\n\n\n\n\nEffects   Response: log(Glycine)\n\n\n\n\n\n\nLow\n\n\nHigh\n\n\nΔ\n\n\nEffect\n\n\nS.E.\n\n\nLower 0.95\n\n\nUpper 0.95\n\n\n\n\n\n\nage\n\n\n34\n\n\n53\n\n\n19\n\n\n-0.1065\n\n\n0.08776\n\n\n-0.2794\n\n\n0.066340\n\n\n\n\naerobics_activity\n\n\n0\n\n\n60\n\n\n60\n\n\n-0.1400\n\n\n0.07170\n\n\n-0.2812\n\n\n0.001298\n\n\n\n\nsex — Male:Female\n\n\n1\n\n\n2\n\n\n\n\n-0.5174\n\n\n0.08392\n\n\n-0.6827\n\n\n-0.352000\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 23: The further away the central estimate and its corresponding intervals from unity the higher the variable’s effect. Confidence intervals are 90%, 95% and 99%, with the dark blue denoting the 90% confidence interval.\n\n\n\n\n\n\n\nPartial Dependence Plots\n\n\n\n\n\n\n\n\nFigure 24: Effect of sex. Female subjects seem to have higher levels of Glycine concentration.\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 25: Effect of age. Older subjects seem to have lower levels of Glycine concentration.\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 26: Effect of aerobics_activity. Aerobics seem to reduce the concentration of Glycine but at a relatively slow pace as the exercise duration increases.\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 27: Interaction between sex and age. As age increases the concentration of Glycine between males and females seems to converge to the same value.\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 28: Interaction between sex and aerobics_activity. Parallel lines denote no interaction.\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 29: Simultaneous effects of age and aerobics_activity. Younger/Older subjects with larger aerobic exercise durations seem to have higher/lower concentrations of Glycine. Older subjects who exercise less seem to have higher concentrations of Glycine when compared to older subjects who exercise more.\n\n\n\n\n\n\n\nValidation & Calibration\n\n\n\n\n3rd pass model validation\n\n\n\n\nIndex\n\n\nOriginalSample\n\n\nTrainingSample\n\n\nTestSample\n\n\nOptimism\n\n\nCorrectedIndex\n\n\n\\(n\\)\n\n\n\n\n\n\nR-square\n\n\n0.18\n\n\n0.19\n\n\n0.16\n\n\n0.03\n\n\n0.15\n\n\n300\n\n\n\n\nMSE\n\n\n0.38\n\n\n0.37\n\n\n0.39\n\n\n-0.02\n\n\n0.4\n\n\n300\n\n\n\n\n\\(g\\)\n\n\n0.33\n\n\n0.33\n\n\n0.31\n\n\n0.02\n\n\n0.31\n\n\n300\n\n\n\n\nIntercept\n\n\n0\n\n\n0\n\n\n0.32\n\n\n-0.32\n\n\n0.32\n\n\n300\n\n\n\n\nSlope\n\n\n1\n\n\n1\n\n\n0.95\n\n\n0.05\n\n\n0.95\n\n\n300\n\n\n\n\n\nWe note also that the successful number of resamples is 300 (i.e. the number of bootstrap samples that we have chosen to perform the validation). In contrast, the 2nd pass model did not use all of the 300 resamples due to divergence or singularity issues which occurred in 222 samples, and thus left only 78 resamples to use for the validation. These divergence issues were due to reasons such as missing values, categories of the chronic_disease_v3 variable with a low frequency and the complexity of the model.\nIn addition this 3rd pass model has used 243 individuals instead of 209 that were used by the 2nd pass model i.e. the smaller number of covariates used in the 3rd pass model have fewer missing values.\n\n\n\nn=243   Mean absolute error=0.02   Mean squared error=0.00064\n0.9 Quantile of absolute error=0.037\n\n\n\n\n\n\n\n\nFigure 30: Calibration plot for 3rd pass model. Deviation from the diagonal line after correcting for overfitting or bias. It can be seen that deviations have been reduced compared to the 2nd pass model.\n\n\n\n\n\n\n\nDynamic Reference Intervals\nThe following table shows an example of the construction of a 95% reference interval (RI) for each of four subjects with specific covariate values. For the 3rd pass model only sex, age and aerobics_activity make a difference since the rest of the covariates are not used.\n\n\n\n  \n\n\n\nThe RI for Glycine from Mayo Clinic Laboratories for ages above 18 years is 229 to 2989 μmol/g of creatinine.",
    "crumbs": [
      "Data Batch 1",
      "Modeling"
    ]
  },
  {
    "objectID": "data_desc_040624.html",
    "href": "data_desc_040624.html",
    "title": "Data Description/Processing - Ref_ranges_AAU_2 - 040624",
    "section": "",
    "text": "Data Source: Ref ranges - AAU file\nData Processing Steps:\nQ&A and manual data cleaning/clarity changes on the xlsx source file:\nid 40217 and 39683 have strange weight values. A: Take the average of these values.\nQ: On the variables aerobics_times_per_week and resistance_times_per_week, some ids have a check mark and two ids have strange values. What is the actual meaning? A: It means that in the survey form the person just said that they are exercising without specifying how many times per week. I have coded such cases with the value of 100 so that column remains of numeric type. However I change this, see here a bit further below. Also if the value was 3-4 meaning 3 or 4 times per weeks, I converted this to 3.5. Similarly for other ranges i.e. 1-2 = 1.5\nQ: What is the meaning of aerobics_duration_min? There are 4 much larger values than the rest. A: This is the duration that the person exercises per time/exercise session.\nFor ids: 41685, 1210, 39817 and 39517 changes of column aerobics_duration_min from 60120 to 90 (i.e. average), from 3040 to 35, from 4550 to 47.5 and from 1520 to 17.5\nBMI is weight/height^2 kg_per_m2, no need to be calculated in the excel source file as it is calculated after the data are imported. Also deleted empty columns in between non-empty ones. Note also the column names and the structure rearrangement on the exercise related columns. From the column name Glycine μmol/g crea removed the “crea”. Changed the name of Glutamic Acid μmol/g to Glutamate μmol/g. For the aerobics_times_per_week column there are 2 values of 45353 45385 of ids 25983 44856 which I coded as 100 i.e. they exercise but without a specific number.\nWith regards to the 100 valued cases on the exercise related columns: If aerobics_times_per_week is checked but the corresponding aerobics_duration_min column had a missing value i.e. no exercise duration, then the aerobics_times_per_week value is 0 i.e. no exercise. For the similar cases but with aerobics_duration_min having a non-zero value, then the value is checked manually and an expected value is chosen i.e. 30-45 min per week probably means once a week the person is exercising. Similarly for the resistance_times_per_week / resistance_duration_min pair of columns.\nA new columns named chronic_disease_v2 was created that is based on the chronic_disease column. It is a recoded version of the chronic_disease column having more general categories of disease in order to ease interpretation and to increase the sample size for each disease category. Information was also utilized from the meds column for cases where the chronic_disease value was missing but the meds value was not. Medicine names and their relation to a disease type were checked via search engine.\nchronic_disease_v2 is additionally lumped by frequency into 8 levels into a new column named chronic_disease_v3.\nThe column supplements has not been yet recoded as it contains a variety of vitamins and proteins. If desired, the column could be recoded towards a more specific use case i.e. effect of magnesium.\nFor later runs, perhaps 2 more changes can be made in the excel source file:\n\nRemove the Creatinine column since not needed.\nRemove the mark ‘μmol/g’ from the amino acid column names.\n\nThe above steps result in the data table output that can be found here and which is then used to proceed with the below changes and the modeling (reference interval construction).\nOnce the data is imported, the following flag/indicator (Yes/No) variables are created: chronic_disease_flag, meds_flag and supplements_flag.\nMissing values are replaced by zeroes on all of the amino acids and on these variables: aerobics_times_per_week, aerobics_duration_min, resistance_times_per_week and resistance_duration_min. These latter 4 variables are removed after being merged to the 2 following in order to create general exercise activity variables: aerobics_activity = aerobics_times_per_week * aerobics_duration_min\nresistance_activity = resistance_times_per_week * resistance_duration_min\naerobics_activity and resistance_activity are log transformed.\nThe final data set that will be used for modeling and exploratory data analysis is shown below, together with its statistical descriptions.\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\n\n\n\nContinuousCategorical\n\n\n\n\n\n\n\n\n\nRef_ranges_AAU_2 Descriptives\n\n\n17 Continous Variables of 27 Variables, 308 Observations\n\n\nVariable\nLabel\nUnits\nn\nMissing\nDistinct\nInfo\nMean\nGini |Δ|\n\nQuantiles\n .05  .10  .25  .50  .75  .90  .95 \n\n\n\n\nage\nAge\nyears\n274\n34\n62\n0.999\n43.33\n15.35\n\n\n 20.0  26.3  34.0  43.0  53.0  61.0  65.7 \n\n\nweight_kg\nSubject weight in kg at test time\nkg\n240\n68\n111\n1.000\n79.97\n21.2\n\n\n 53.00  57.90  66.00  78.25  92.62  105.00  110.00 \n\n\nheight_m\nSubject height in meters\nmeters\n250\n58\n49\n0.999\n1.735\n0.1305\n\n\n 1.590  1.600  1.650  1.710  1.800  1.881  1.960 \n\n\nbmi\nBody mass index\nkg/m2\n235\n73\n219\n1.000\n26.41\n5.71\n\n\n 19.79  20.67  22.81  25.34  29.21  33.75  36.82 \n\n\naerobics_activity\nDuration of aerobic activity per week\nminutes/week\n308\n0\n32\n0.674\n48.89\n80.51\n\n\n 0.0  0.0  0.0  0.0  60.0  169.5  240.0 \n\n\nresistance_activity\nDuration of resistance (involving weights) activity per week\nminutes/week\n308\n0\n24\n0.550\n31.24\n53.27\n\n\n 0  0  0  0  0  120  180 \n\n\nGlycine\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n308\n1.000\n1051\n968.4\n\n\n 230.8  281.1  438.9  700.6  1109.7  1962.3  2881.8 \n\n\nAlanine\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n308\n1.000\n649.7\n667.7\n\n\n 123.0  155.0  214.9  375.4  677.0  1514.8  2267.3 \n\n\nValine\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n308\n1.000\n764.3\n1469\n\n\n 8.028  11.831  18.864  25.490  33.439  44.140  49.860 \n\n\nCysteine\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n193\n0.947\n895.8\n1754\n\n\n 0.000  0.000  0.000  7.062  16.854  26.570  34.249 \n\n\nTaurine\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n301\n1.000\n2604\n4041\n\n\n 74.76  175.31  405.24  741.15  1365.69  3190.54  4795.22 \n\n\nIsoleucine\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n308\n1.000\n1194\n2314\n\n\n 4.269  5.558  8.600  12.935  18.512  28.446  41.480 \n\n\nLeucine\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n308\n1.000\n616.3\n1184\n\n\n 6.325  11.086  16.289  23.416  33.225  47.868  56.610 \n\n\nGlutamine\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n308\n1.000\n375.7\n257.6\n\n\n 99.52  127.40  195.83  324.60  495.47  701.16  802.99 \n\n\nGlutamate\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n308\n1.000\n911\n1762\n\n\n 4.451  6.946  11.523  19.343  35.049  58.647  94.662 \n\n\nMethionine\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n303\n1.000\n1036\n2025\n\n\n 1.072  2.000  3.293  4.602  6.123  8.570  10.197 \n\n\nArginine\nConcentration per Creatinine gramm\nμmol/g\n308\n0\n306\n1.000\n769.4\n1487\n\n\n 3.558  5.256  11.651  20.551  39.182  66.752  108.042 \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRef_ranges_AAU_2 Descriptives\n\n\n10 Categorical Variables of 27 Variables, 308 Observations\n\n\nVariable\nLabel\nUnits\nn\nMissing\nDistinct\n\n\n\n\n\nid\nSubject id\n\n308\n0\n296\n1018 -\nNAKOS\nMin/Max/Mean Width: 3 / 12 / 5\n\n\nsex\nSubject gender\nFemale/Male\n258\n50\n2\n\n\n\n\nchronic_disease_flag\nDoes the subject have a chronic disease?\nYes/No\n308\n0\n2\n\n\n\n\nchronic_disease\nIf subject has a chronic disease, which one is it?\n\n308\n0\n50\n\n\n\n\nchronic_disease_v2\nRecoding of the chronic_disease information into more general types of diseases\n\n308\n0\n20\n\n\n\n\nchronic_disease_v3\nA lumped by frequency version of chronic_disease_v2 so that there are 7 categories of disease types in the data\n\n308\n0\n8\n\n\n\n\nmeds_flag\nDoes the subject take any medication?\nYes/No\n308\n0\n2\n\n\n\n\nmeds\nIf subject is taking medication, which one is it?\n\n308\n0\n106\nAcnotren 20mg -\nZinadol, T4, Nolvadex\nMin/Max/Mean Width: 2 / 44 / 9\nMode:None (n=201)\n\n\nsupplements_flag\nDoes the subject take any supplements?\nYes/No\n308\n0\n2\n\n\n\n\nsupplements\nIf subject is taking supplements, which one is it?\n\n308\n0\n78",
    "crumbs": [
      "Data Batch 1",
      "Processing"
    ]
  }
]